<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>Flexible svg lines</title>
        <link rel="stylesheet" href="style.css">
        <link href="https://assets-global.website-files.com/655b64fcbb3f21cb7b827e96/css/draw-points.7025ba2ca.css" rel="stylesheet" type="text/css"/>

    </head>
    <body>
        <div class="spline_wrap">
            <div class="line_wrap"></div>
            <div class="spline_item">
                <div class="spline_el" data-w-id="54af1800-c154-c907-9375-b9cd83ef5ed5" data-animation-type="spline" data-spline-url="https://prod.spline.design/sBIy5aKHqpXcO4O1/scene.splinecode">
                    <canvas data-engine="three.js r149" width="922" height="892" style="display: block; width: 100%; height: 100%;"></canvas>
                </div>
                <div class="dot_end"></div>
                <div class="dot_end is-2"></div>
                <div class="dot_end is-3"></div>
            </div>
        </div>
        <div class="space"></div>
        <section class="section">
            <div class="w-layout-blockcontainer container w-container">
                <div class="spec_list">
                    <div class="spec_item">
                        <div class="spec_title">123</div>
                        <div class="spec_text">Lorem ipsum dolor sit amet, consectetur adipiscing elit suspendisse varius</div>
                        <div class="dot_start"></div>
                    </div>
                    <div class="spec_item is-2">
                        <div class="spec_title">PRODUCT SPEC</div>
                        <div class="spec_text">Lorem ipsum dolor sit amet, consectetur adipiscing elit suspendisse varius</div>
                        <div class="dot_start is-2"></div>
                    </div>
                    <div class="spec_item">
                        <div class="spec_title">PRODUCT SPEC</div>
                        <div class="spec_text">Lorem ipsum dolor sit amet, consectetur adipiscing elit suspendisse varius</div>
                        <div class="dot_start is-3"></div>
                    </div>
                </div>
            </div>
        </section>
        <div class="space"></div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=655b64fcbb3f21cb7b827e96" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="https://assets-global.website-files.com/655b64fcbb3f21cb7b827e96/js/draw-points.7ffb1870c.js" type="text/javascript"></script>
        
        <script>

let svgStyles = "opacity: 0.4; width: 100%; height: 100%; pointer-events: none; position: absolute; top: 0; left: 0;";
            function getLeft(el) {
                let center = el.innerWidth() / 2;
                let left = el.offset().left + center;
                return left;
            }
            function getTop(el) {
                let center = el.innerHeight() / 2;
                let top = el.offset().top - $(document).scrollTop() + center;
                return top;
            }

            $(".dot_start").each(function(index) {
                let startDot = $(this);
                let endDot = $(".dot_end").eq(index);
                let svgEl = $(`<svg style="${svgStyles}"><line stroke="currentColor"/></svg>`).appendTo(".line_wrap");
                function setStyles() {
                    svgEl.attr("viewBox", `0 0 ${window.innerWidth} ${window.innerHeight}`);
                    let lineEl = svgEl.find("line");
                    lineEl.attr("x1", getLeft(startDot));
                    lineEl.attr("y1", getTop(startDot));
                    lineEl.attr("x2", getLeft(endDot));
                    lineEl.attr("y2", getTop(endDot));
                }
                setStyles();
                $(document).on("scroll", function() {
                    setStyles();
                });
                window.addEventListener("resize", function() {
                    setStyles();
                });
            });
        </script>
    </body>
</html>